<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [tops-dev] Issue #45: TOPS &gt; 0.3 does not start if preferences from 0.3 exist (steko/totalopenstation)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/tops-dev/2013-June/index.html" >
   <LINK REL="made" HREF="mailto:tops-dev%40lists.berlios.de?Subject=Re%3A%20%5Btops-dev%5D%20Issue%20%2345%3A%20TOPS%20%3E%200.3%20does%20not%20start%20if%20preferences%20from%0A%200.3%20exist%20%28steko/totalopenstation%29&In-Reply-To=%3C20130614101930.24500.33106%40bitbucket25.managed.contegix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000135.html">
   <LINK REL="Next"  HREF="000137.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[tops-dev] Issue #45: TOPS &gt; 0.3 does not start if preferences from 0.3 exist (steko/totalopenstation)</H1>
    <B>Stefano Costa</B> 
    <A HREF="mailto:tops-dev%40lists.berlios.de?Subject=Re%3A%20%5Btops-dev%5D%20Issue%20%2345%3A%20TOPS%20%3E%200.3%20does%20not%20start%20if%20preferences%20from%0A%200.3%20exist%20%28steko/totalopenstation%29&In-Reply-To=%3C20130614101930.24500.33106%40bitbucket25.managed.contegix.com%3E"
       TITLE="[tops-dev] Issue #45: TOPS &gt; 0.3 does not start if preferences from 0.3 exist (steko/totalopenstation)">issues-reply at bitbucket.org
       </A><BR>
    <I>Fri Jun 14 12:19:30 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000135.html">[tops-dev] Issue #44: Opening Total Open Station with &quot;custom&quot; model does not show serial parameters (steko/totalopenstation)
</A></li>
        <LI>Next message: <A HREF="000137.html">[tops-dev] commit/totalopenstation: 4 new changesets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#136">[ date ]</a>
              <a href="thread.html#136">[ thread ]</a>
              <a href="subject.html#136">[ subject ]</a>
              <a href="author.html#136">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>New issue 45: TOPS &gt; 0.3 does not start if preferences from 0.3 exist
<A HREF="https://bitbucket.org/steko/totalopenstation/issue/45/tops-03-does-not-start-if-preferences-from">https://bitbucket.org/steko/totalopenstation/issue/45/tops-03-does-not-start-if-preferences-from</A>

Stefano Costa:

TOPS 0.3 first introduced user preferences for the GUI, enabling the model and port choice to be saved across session.

Newer (unreleased) versions added more values to the saved choices (e.g. the `sleeptime` custom option), but if an old file exists without these choices the program will fail to start:

```
#!pytb

(pyenv)<A HREF="https://lists.berlios.de/mailman/listinfo/tops-dev">steko at ganymede</A>:~/code/totalopenstation$ totalopenstation-gui.py 
Traceback (most recent call last):
  File &quot;/home/steko/code/totalopenstation/pyenv/bin/totalopenstation-gui.py&quot;, line 7, in &lt;module&gt;
    execfile(__file__)
  File &quot;/home/steko/code/totalopenstation/scripts/totalopenstation-gui.py&quot;, line 797, in &lt;module&gt;
    Tops = Tops(root)
  File &quot;/home/steko/code/totalopenstation/scripts/totalopenstation-gui.py&quot;, line 605, in __init__
    self.option6_value.set(self.upref.getvalue('sleeptime'))
  File &quot;/home/steko/code/totalopenstation/totalopenstation/utils/upref.py&quot;, line 86, in getvalue
    return self.get('topsconfig', value)
  File &quot;/usr/lib/python2.7/ConfigParser.py&quot;, line 618, in get
    raise NoOptionError(option, section)
ConfigParser.NoOptionError: No option 'sleeptime' in section: 'topsconfig'

```

An upgrade path must be provided, creating the missing variables when needed.

Responsible: steko
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000135.html">[tops-dev] Issue #44: Opening Total Open Station with &quot;custom&quot; model does not show serial parameters (steko/totalopenstation)
</A></li>
	<LI>Next message: <A HREF="000137.html">[tops-dev] commit/totalopenstation: 4 new changesets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#136">[ date ]</a>
              <a href="thread.html#136">[ thread ]</a>
              <a href="subject.html#136">[ subject ]</a>
              <a href="author.html#136">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/tops-dev">More information about the tops-dev
mailing list</a><br>
</body></html>
